![](https://b3logfile.com/bing/20181201.jpg?imageView2/1/w/960/h/540/interlace/1/q/100)
{: id="20201010173007-d7uiu61"}

# 前言
{: id="20201010173007-sjzujv5"}

本篇文章主要包括两部分内容，第一部分是Redis的安装以及基本数据类型的操作，第二部分是在SpringBoot中使用Redis。
{: id="20201010173007-arslg28"}

# Redis 基础
{: id="20201010173007-r14hdfw"}

Redis 是一个开源的（遵从BSD协议）高性能键值对（key-value）的内存数据库，可以用作数据库、缓存、消息中间件等。它是一种NoSQL（not-only sql，泛指非关系型数据库）的数据库。
{: id="20201010173007-d182fud"}

### 安装 redis
{: id="20201010173007-torzpiq"}

推荐使用Docker安装Redis，非常简单，只需要以下几个步骤：
{: id="20201010173007-1smog3e"}

##### 1. 拉取镜像
{: id="20201010173007-lyg0zz4"}

```
docker pull redis
```
{: id="20201010173007-21vuvt6"}

##### 2. 创建Redis容器
{: id="20201010173007-qot4sz0"}

```
docker run -itd --name redis -p 6379:6379 redis
```
{: id="20201010173007-qhntenr"}

##### 3. 进入Redis容器，通过`redis-cli`命令就可以使用了
{: id="20201010173007-wmnwp9h"}

```
$ docker exec -it redis /bin/bash
root@cf1b4dc48215:/data# redis-cli
127.0.0.1:6379>
```
{: id="20201010173007-ezur4hk"}

##### 4. 安装iredis插件
{: id="20201010173007-b0sonpm"}

[iredis（Interactive Redis，即：交互式Redis）](https://iredis.io/)，是 Redis 的终端客户端，具有自动补全功能和语法高亮功能。这样在练习`Redis`的时候，就不用担心记不住各种指令了。 安装过程很简单，在终端输入`pip install iredis`即可，安装完成后，在终端输入`iredis`指令，就会自动连接到本地的Redis了。效果如下图所示：
{: id="20201010173007-3ek3yld"}

![iredis使用效果](https://b3logfile.com/file/2020/09/iredisdisplay-b54332fc.gif)
{: id="20201010173007-a8zefhz"}

# Redis基本数据类型及其操作
{: id="20201010173007-kzroan9"}

这部分参考官方文档[An introduction to Redis data types and abstractions](https://redis.io/topics/data-types-intro)
{: id="20201010173007-w7hv4mf"}

### 1. Redis keys
{: id="20201010173007-rd5mcqg"}

Redis是一key-value数据库，数据的增加、修改、删除、查找操作都是围绕这key来进行的。Redis keys是二进制安全的，我们可以使用一个字符串"foo"来表示key，空字符也是合法的。key的最大值允许达到512MB，但是一般建议key的值不应该太大也不应该太小，推荐使用"object-type:id"这种格式，比如"user:10"。
{: id="20201010180354-p4nnhay"}

key的基本操作指令：
{: id="20201011082816-itb10y5"}

- del key : 该命令用来删除key，如果删除成功，则返回(integer) 1，否则返回(integer) 0
- exists key : 判断key是否存在
- expire key seconds : 给key设置过期时间，单位是秒
- expireat key timestamp : 给key设置过期时间，单位是时间戳
- pexpire key milliseconds : 给key设置过期时间，单位是毫秒
- keys pattern : 根据(pattern)查找key
- move key db : 将key移动到指定数据库
- persist key : 移除key的过期时间，key将永久存储
- pttl key : 查看key的剩余的过期时间（单位毫秒），如果没有给key设置过期时间，则返回-1
- ttl key : 查看key的剩余过期时间（单位秒），如果没有给key设置过期时间，则返回-1
- randomkey : 从当前数据库中随机返回一个key
- rename key newkey : 重命名key
- renamex key newkey : j
{: id="20201011082822-tgwbwf6"}

{: id="20201011082521-t9s2v9m"}
